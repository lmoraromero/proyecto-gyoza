<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Lekton:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"> <!--Lekton-->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/style_generador.css">
    <script defer src=""></script>
</head>
<body>
    <section class="contenedor">
        <nav>
            <ul>
                <li><a href="nosotras.html">nosotras</a></li>
                <li><a href="libros.html">rese√±as</a></li>
                <li><a href="generador.html">generador de libros</a></li>
            </ul>
            <a href="index.html"><img class="logo" src="img/gyoza.png" alt="logo"></a>
            <img class="oscuro" src="img/moon.png" alt="modo oscuro">
        </nav>
        <section class="generador">
            <h1><strong>Generador de lecturas</strong></h1>
            <p>¬øC√≥mo funciona? Escribe un t√≠tulo en la caja y pulsa <strong>"A√±adir"</strong> para sumarlo a la lista. Cuando tengas todos los que quieras, haz click en <strong>"Generar"</strong> y descubre qu√© leer despu√©s. Si la primera opci√≥n no te gusta, ¬°siempre puedes volver a pulsar <strong>"Generar"</strong>! ¬øNo te convencen los libros que has a√±adido? Pulsa <strong>"Limpiar"</strong> y empieza de nuevo.</p>
            
            <form>
                <input type="text" placeholder="Escribe aqu√≠ el t√≠tulo de un libro">
                <div class="botones">
                    <input type="submit" value="A√±adir üåº" class="add">
                    <input type="button" value="Generar ‚ú®" class="generate">
                    <input type="button" value="Limpiar ü™Ñ" class="clear">
                </div>
            </form>
            <h3></h3>
            <h2 class="resultado"></h2>
        </section>
        <footer>
            <p>LECTURA ACTUAL... <span>El Alma del Brujo - Bel√©n Mart√≠nez ‚ô•Ô∏èüßô</span></p>
        </footer>

        <script>
            const inputTitulo = document.querySelector('input[type="text"]');
            const botonAdd = document.querySelector('.add');
            const botonGenerate = document.querySelector('.generate');
            const botonLimpiar = document.querySelector('.clear');
            const resultado = document.querySelector('.resultado');
            const mensaje = document.querySelector('h3'); 

            //A√±adir t√≠tulos a un array para luego poder generarlos aleatoriamente 

            let titulos = [];

            botonAdd.addEventListener('click', evento => {
                evento.preventDefault(); //Evita que el formulario se env√≠e y recargue la p√°gina

                const titulo = inputTitulo.value.trim(); //Obtener el valor del input

                if (titulo !== "") {
                    // A√±adir el t√≠tulo al array
                    titulos.push(titulo);

                    // Limpiar el input despu√©s de a√±adir
                    inputTitulo.value = "";
                    mensaje.innerText = "Se ha a√±adido:" + titulo;
                    mensaje.style.color = "#8f75b1";
                } else {
                    mensaje.innerText = "Por favor, escribe un t√≠tulo.";
                    mensaje.style.color = "#e4007f";
                }
            });

            // Generar aleatoriamente los t√≠tulos del array
            botonGenerate.addEventListener('click', evento => {
                evento.preventDefault(); 
                if (titulos.length > 0) {
                    // Seleccionar un √≠ndice aleatorio
                    const indiceAleatorio = Math.floor(Math.random() * titulos.length);
                    const tituloAleatorio = titulos[indiceAleatorio];

                    // Mostrar el t√≠tulo generado en el <h2>
                    resultado.innerText = `T√≠tulo seleccionado: ${tituloAleatorio}. ¬°Feliz lectura!‚≠ê`; // Usando innerText

                    // Limpiar el mensaje en <h3>
                    mensaje.innerText = "";
                } else {
                    resultado.innerText = "Por favor, a√±ade t√≠tulos primero."; // Usando innerText
                }
            });

            //Limpiar el Array por si se quiere generar nuevos t√≠tulos
            botonLimpiar.addEventListener('click', evento => {
                evento.preventDefault(); 
                // Limpiar el array de t√≠tulos
                titulos = [];
                // Limpiar el input de texto
                inputTitulo.value = "";
                // Limpiar el mensaje en <h3> y <h2>
                mensaje.innerText = "";
                resultado.innerText = ""; 
            });
        </script>
    </section>
</body>
</html>